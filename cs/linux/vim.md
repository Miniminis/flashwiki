---
description: 전 세계 개발자가 가장 많이 쓰는 에디터 중 하나
---

# vim

## 1. 설명

* VI iMproved&#x20;
* 원래 vi -> vim 으로 변화됨&#x20;
* 자주 사용되는 옵션&#x20;
  * \-t : tag : tag 로 jump 하여 에디터를 시작한다.&#x20;
  * \-o files : 여러 파일을 split 모드로 열기&#x20;
  * \-R files : read-only mode 로 열기&#x20;
  * \-d files : diff mode&#x20;

## 2. 이동

* j, k, h, l : 상하좌우&#x20;
* w : 단어 시작점을 기준으로 앞으로 이동&#x20;
* e : 단어 끝점을 기준으로 앞으로 이동&#x20;
* b : 단어 시작점을 기준으로 뒤로 이동&#x20;
* 0 : 문장 맨 앞으로 이동&#x20;
* $ : 문장 맨 끝으로 이동&#x20;
* f(CHAR) : 문장 내에서 현재 포인터에서 가장 가까운 CHAR를 찾아 앞으로 이동  &#x20;
* F(CHAR): 문장 내에서 현재 포인터에서 가장 가까운 CHAR를 찾아 뒤로 이동&#x20;
* } : 단락(빈줄) 단위로 아래로 이동한다.&#x20;
* { : 단락(빈줄) 단위로 위로 이동한다.&#x20;
* G : 파일의 맨 끝으로 한번에 이동&#x20;
* gg : 파일의 맨 앞으로 한번에 이동
* :\[number]
  * number 라인으로 이동한다.&#x20;
  * :10 - 10번째 라인으로 이동한다.&#x20;
* :set number / :set nonumber&#x20;
  * 파일의 라인 넘버를 보여준다/안보여준다. &#x20;
* H, M, L : 현재 페이지의 최상단, 중간, 최하단으로 이동한다.&#x20;
* ctrl + f / ctrl + b
  * 페이지 단위로 뒤로 / 앞으로 이동&#x20;
* ctrl + d / ctrl + u
  * 반페이지 단위로 뒤로 / 앞으로 이동&#x20;
* ctrl + e / ctrl + y
  * 한줄씩 밑으로 스크롤 / 한줄씩 위로 스크롤&#x20;
  * 커서는 이동하지 않는다.&#x20;

## 3. 편집 1

* 입력모드로 전환&#x20;
  * i : 커서 위치부터 편집 시작&#x20;
  * I : 커서가 있던 라인의 가장 앞으로 이동하여 편집 시작&#x20;
  * a : 현재 커서에서 한칸 왼쪽으로 이동하여 편집 시작&#x20;
  * A : 커서가 있던 라인의 가장 마지막으로 이동하여 편집 시작&#x20;
  * o : 현재 커서에서 맡으로 한줄을 추가하면서 편집 시작&#x20;
  * O : 현재 커서에서 위로 한줄을 추가하면서 편집 시작 &#x20;
  * cc : 현재 라인을 한줄 삭제하면서 편집 시작&#x20;
  * C : 현재 커서 단어를 지우면서 편집 시작&#x20;
* 복사&#x20;
  * yy : 현재 줄 복사&#x20;
  * yw : 현재 단어 복사&#x20;
* 붙여넣기&#x20;
  * P : 현재 위치에 바로 붙여넣기&#x20;
  * p : 현재 커서 다음줄에 붙여넣기&#x20;
* 잘라내기
  * x : 현재 캐릭터 잘라내기&#x20;
  * dd : 현재 라인 잘라내기&#x20;
  * dw : 현재 word 의 끝까지 잘라내기&#x20;
  * D : 현재 커서부터 라인 끝까지 지우기 -> 클립보드에 보관 X
* 덮어쓰기 - replace
  * r : 현재 캐릭터만 대체한다. 끝나자마자 replace 됨&#x20;
  * R : 끝날때까지 덮어쓰기 모드가 유지됨&#x20;
  * s :&#x20;
* 되돌리기/반복&#x20;
  * u : undo&#x20;
  * ctrl-r : redo&#x20;
  * . : 마지막 행동 반복&#x20;

## 4. 편집 2

* :q : 문서 편집화면에서 나가기
* :q! : 현재 변경사항을 저장하지 않고 나가기&#x20;
* :w \[filename]: 파일 저장하기
* :wq / :x : 저장하고 나가기  &#x20;
* :qa : 전체 저장하고 나가기&#x20;
* :e : 현재 창에서 다른 파일 열기&#x20;
  * 현재 파일 내용 위에 다른 파일이 열린다.&#x20;
  * 현재 수정 내용을 저장한 뒤에야 이동할 수 있다.&#x20;

## 5. 검색&#x20;

* vim file 내에서 내가 원하는 검색어를 찾기 위함

### 5-1. 주요 사용법&#x20;

* /keyword
* ?keyword
* /\\\<keyword\\>
* n : 정방향 검색 반복&#x20;
* N : 역방향 검색 반복&#x20;
* \* : 커서 위치의 키워드 아래쪽으로 검색&#x20;
* \# : 커서 위치의 키워드 위쪽으로 검색&#x20;
* /abc\\|xyz : abc or xyz 검색&#x20;

### 5-2. 유용한 설정모음&#x20;

* :set ic : 대소문자 구분없이 - ignore case&#x20;
* :set noic : 대소문자 구분있게&#x20;
* :set hlsearch : search highlight On&#x20;
* :set nohlsearch : search highlight OFF &#x20;
* :set incsearch : 타이밍시 화면에 표시 O&#x20;
* :set noincsearch : 타이밍시 화면에 표시 X&#x20;

## 6. 스트링 치환

* 문서 전체 스트링 치환 : %
  * :%s/str/replace : 전체 문서에 대해서 str -> replace 로 치환 / 라인별로 가장 최초의 한번만 적용된다. &#x20;
  * :%s/str/replace/g : 다중 검색시에도 적용한다. / 검색되는 케이스 모두에 적용된다.&#x20;
  * :%s/str/replace/gc : 치환하기 전에 사용자에게 묻는다. 하나하나 물어본다.&#x20;
  * :%s/\\\<str\\>/replace/gc : "str" 단어 단위로 검색하여 치환한다.&#x20;
* 라인 지정 의미 기호&#x20;
  * . : 현재라인&#x20;
  * 1 : 라인 1
  * $ : 문서의 마지막 라인&#x20;
* 라인 지정 스트링 치환
  * :1,10s/str/replace/gc : 라인 1-10 에 대해서만 치환을 적용한다.&#x20;
  * :1,.s/str/replace/gc : 라인 1 - 현재 라인까지 치환 적용한다.&#x20;
  * :1,$s/str/replace/gc : 라인 1 - 마지막 라인까지 치환 적용한다.&#x20;

## 7. RegEx

* 주로 vim 에서 찾을 때 많이 사용된다.&#x20;
* 주요 의미 기호
  * . : newline 제외한 모든 문자&#x20;
  * ^ : 라인의 시작 &#x20;
  * $ : 라인의 끝&#x20;
    * /{$
  * \* : 0이거나 여러 개
    * /String.\*r &#x20;
  * \\+ : 1이거나 여러 개 = 1개는 반드시 있다.&#x20;
  * \\= : 0개이거나 1개 = 없거나 1개가 있거나&#x20;
  * \\{n} : n회 반복한다.&#x20;
  * \\{n,m} : n\~m회 반복한다.&#x20;
  * \\{,m} : 최대 m회까지 반복&#x20;
  * \\{n,} : 최소 n회까지 반복&#x20;
  * \[0-9] : 0\~9 사이의 캐릭터&#x20;
  * \[a-z] : a\~z 사이의 캐릭터&#x20;
  * \[abc] : a, b, c 중 하나와 매치되는 캐릭터&#x20;
  * \[^0-9] : 0\~9를 제외한 캐릭터&#x20;
* 예제 &#x20;
  * /sem\_.\*(.\*) : sem\_ 으로 시작하여 함수를 호출/선언하는 경우&#x20;
    * 예) sem\_dnskdksldhk() : sem 시리즈를 호출하는 api 를 일괄적으로 검색하겠다.
  * /public.\*_(.\*_)&#x20;
  * /^#include : 라인의  시작에 #include 가 나오는 경우&#x20;
  * /\\\<inotify\_ : 단어가 inotify\_ 로 시작하는 경우&#x20;
  * :%s/\\\<variable\\>/var/g : 문서 전체에서 variable 단어와 정확히 일치하는 단어를 찾아 var 로 변경한다.&#x20;

## 8. 멀티 윈도우&#x20;

* vim 실행시 창 분할
  * 가로분할
    * vim -o test.c test.h
    * vim \*.sh -o&#x20;
  * 세로분할 &#x20;
    * vim -O test.c test.h&#x20;
* vim 실행 후 창 분할&#x20;
  * 가로분할&#x20;
    * :split s / ctrl+w s
    * :split n / ctrl+w n&#x20;
  * 세로분할&#x20;
    * :vsplit v
    * ctrl+w v&#x20;
* vim 실행 후 새 창 분할
  * 가로 새 창&#x20;
    * :new (n)
    * ctrl+w (n)&#x20;
  * 세로 새 창&#x20;
    * :vnew
    * ctrl+w
* 창 닫기&#x20;
  * 현재창&#x20;
    * :quit
    * ctrl+w q
  * 현재창만 남기기&#x20;
    * :only&#x20;
    * ctrl+w o
* 창 간 커서 이동 &#x20;
  * ctrl+w w : 다음 창으로 이동&#x20;
  * ctrl+w k : 윗 창으로 이동&#x20;
  * ctrl+w j : 아래 창으로 이동&#x20;
  * ctrl+w h : 왼쪽 창으로 이동&#x20;
  * ctrl+w l : 오른쪽 창으로 이동&#x20;
  * ctrl+w t : 최상단 창으로 이동&#x20;
  * ctrl+w b : 최하단 창으로 이동&#x20;
* 창 이동&#x20;
  * ctrl+w K : 윗 창으로 이동&#x20;
  * ctrl+w J : 아래 창으로 이동&#x20;
  * ctrl+w H : 왼쪽 창으로 이동&#x20;
  * ctrl+w L : 오른쪽 창으로 이동&#x20;
* 창 크기 조절&#x20;
  * ctrl+w + // ctrl+w - : 높이 증가 // 감소&#x20;
  * ctrl+w \_ OR / : 높이 최대화&#x20;
  * ctrl+w > // ctrl+w < : 폭 증가 // 감소&#x20;
  * ctrl+w | : 폭 최대화&#x20;
  * ctrl+w = : 높이/폭 모두 같게&#x20;
* 기타 기능&#x20;
  * ctrl+w ] : 새창에서 tag jump&#x20;
  * ctrl+w f : 커서 위치의 파일 이름을 새창에서 열기&#x20;

## 9. 단축키 (사용자 정의)

* 모드마다 다른 단축키를 설정할 수 있다.&#x20;
* 기본문법 : CMD LHS RHS
  * CMD : map, nmap, imap...&#x20;
  * LHS : 입력할 키&#x20;
  * RHS : 입력시 동작 &#x20;
* \<C-key> : ctrl + key&#x20;
* \<S-key> : shift + key&#x20;
* \<A-key> : alt + key&#x20;
* \<C-S-key> : ctrl + shift + key
* \<BS>, \<Tab>, ... &#x20;
* example
  * :nmap \<F8> oprintf("%s %d line : \n", \_\_func\_\_, \_\_LINE\_\_);\<ESC>
    * normal mode 에서 F8 누르면 아래 줄에 printf() 출력한다.&#x20;
  * :imap \<F8> printf("%s %d line: \n", \_\_func\_\_, \_\_line\_\_);\<CR>
    * insert mode 에서 F8누르면 print() 출력한다.&#x20;
  * :nmap \<F2> :cs find s \<C-R>=expand("\<cword>")\<CR>\<CR>
    * F2 누르면 커서위의 단어를 cscope find symbol 로 매핑해서 실행한다.&#x20;
    * 그 후 엔터를 두번 누른다.&#x20;
  * :map \<F8> oprintf("hello\n");\<ESC>
    * F8을 누르면 hello 를 츨력하고 개행한다.&#x20;
*
